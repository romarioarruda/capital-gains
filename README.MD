## Calculate Taxes in Financial Operations


This is a Financial Operations Broker project designed to calculate taxes in financial operations such as financial asset sales.

The tax is calculated based on the financial gain generated by the difference between the sales price and the purchase price of assets, considering the quantity of units bought and sold.

The tax rate is **20%** on taxable profit. Sales totaling up to **R$ 20,000.00** are tax-exempt, and accumulated losses can be used to offset future gains and reduce taxation.

The system was developed in **Nodejs** to be used via the command line (CLI), where the user inputs a list of operations, and the system calculates the profit and the tax due on that profit.



## How to run the project

In this case you can use Nodejs installed in you machine and execute the file `index.js`.

Example:
```
$ node index.js
```

Alternatively, you can run the application on a container provided by **Docker**.

With the docker installed and ran just use the **Dockerfile** in this repository to make the container image.

Example:

```
$ docker build -t capital-gains .
```

After that just run:

```
$ docker run --rm -it capital-gains
```

Ok that's it! Now the standard input (STDIN) is availabale to receive data.


Input example:

```
[{"operation":"buy", "unit-cost":10.00, "quantity": 100},
{"operation":"sell", "unit-cost":15.00, "quantity": 50},
{"operation":"sell", "unit-cost":15.00, "quantity": 50}]
```

Output example:

```
[{"tax": 0.00},{"tax": 0.00},{"tax": 0.00}]
```



## How to execute unit tests

Run the command:

```
$ node tax-calculate.test.js
```

Alternatively, you can run via docker with the command:

```
$ docker run --rm -it capital-gains node tax-calculate.test.js
```



